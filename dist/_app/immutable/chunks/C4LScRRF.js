import{b as S,h as b,a as x,E as D,ai as F,aj as U,ak as C,x as L,al as T,c as O,d as N,e as j,am as q,s as w,an as H,p as J,f as M,ao as I,ae as P,J as Y,t as Z,R as $,ap as z}from"./B-Q1TzRt.js";import{s as B,g as G}from"./BTqYajCS.js";function V(a,r,s=!1){b&&x();var e=a,n=null,t=null,i=q,k=s?D:0,o=!1;const A=(l,u=!0)=>{o=!0,m(u,l)};var f=null;function v(){f!==null&&(f.lastChild.remove(),e.before(f),f=null);var l=i?n:t,u=i?t:n;l&&H(l),u&&J(u,()=>{i?t=null:n=null})}const m=(l,u)=>{if(i===(i=l))return;let h=!1;if(b){const R=F(e)===U;!!i===R&&(e=C(),L(e),T(!1),h=!0)}var g=w(),d=e;if(g&&(f=document.createDocumentFragment(),f.append(d=O())),i?n??(n=u&&N(()=>u(d))):t??(t=u&&N(()=>u(d))),g){var _=j,y=i?n:t,E=i?t:n;y&&_.skipped_effects.delete(y),E&&_.skipped_effects.add(E),_.add_callback(v)}else v();h&&T(!0)};S(()=>{o=!1,r(A),o||m(null,null)},k),b&&(e=M)}let c=!1,p=Symbol();function W(a,r,s){const e=s[r]??(s[r]={store:null,source:P(void 0),unsubscribe:I});if(e.store!==a&&!(p in s))if(e.unsubscribe(),e.store=a??null,a==null)e.source.v=void 0,e.unsubscribe=I;else{var n=!0;e.unsubscribe=B(a,t=>{n?e.source.v=t:$(e.source,t)}),n=!1}return a&&p in s?G(a):Y(e.source)}function X(){const a={};function r(){Z(()=>{for(var s in a)a[s].unsubscribe();z(a,p,{enumerable:!1,value:!0})})}return[a,r]}function ee(a){var r=c;try{return c=!1,[a(),c]}finally{c=r}}export{W as a,ee as c,V as i,X as s};
