import"./Bzak7iHL.js";import"./CfIfVLxy.js";import{o as M,b as Q}from"./CEdD1vL5.js";import{a3 as A,a8 as L,ae as n,J as r,af as u,ag as V,ac as j,a6 as b,a7 as g,R as a,K as _,ah as B,a5 as y,ad as G,Q as W}from"./B-Q1TzRt.js";import{i as Y}from"./C4LScRRF.js";import{C as Z,S as ee,a as re,b as te,c as ae}from"./DqT6FHEl.js";import{i as C}from"./FL43Msfx.js";import{p as w,l as se}from"./Wcg-fE1i.js";import{g as F}from"./BH9FKBC7.js";function oe(h,s){A(s,!1);let t=w(s,"to",8,"/");M(()=>{F(t())}),C(),L()}var ne=y("<div></div>"),ie=y("<!> <!>",1);function he(h,s){const t=se(s,["children","$$slots","$$events","$$legacy"]);A(s,!1);const i=n(),o=n();let l=w(s,"x",8,"in"),v=n("SignIn");const x=5e3,m="redirectAfterAuth",f="redirectUrl",U="clerk-sveltekit:user";let S=n(r(o)),c=n(!1),$,R=!1;function D(e){const d=()=>{R||(R=!0,document.removeEventListener(U,d),clearTimeout($),F(e))};document.addEventListener(U,d)}Q(()=>{const e=new URL(window.location.toString());a(o,e.searchParams.get(f)??r(o)),r(c)||(e.searchParams.get(f)??t.redirectUrl,e.searchParams.has(m)?(D(e.searchParams.get(m)??"/"),$=setTimeout(()=>a(c,!0),x)):a(c,!0),e.searchParams.delete(f),e.searchParams.set(m,r(o)),a(S,e.toString()))}),u(()=>_(l()),()=>{a(i,l()==="in"?"afterSignInUrl":"afterSignUpUrl")}),u(()=>_(l()),()=>{a(v,l()==="in"?"SignIn":"SignUp")}),u(()=>(_(t),r(i)),()=>{a(o,t.redirectUrl||t[r(i)]||"/")}),V(),C();var E=j(),N=b(E);{var O=e=>{Z(e,{children:B,$$slots:{default:(d,X)=>{const q=W(()=>X.clerk);var k=ie(),T=b(k);ee(T,{children:(p,H)=>{oe(p,{get to(){return r(o)}})},$$slots:{default:!0}});var z=G(T,2);re(z,{children:(p,H)=>{var P=ne();te(P,(J,K)=>{var I;return(I=ae)==null?void 0:I(J,K)},()=>({clerk:r(q),componentType:r(v),props:{...t,redirectUrl:r(S),[r(i)]:null}})),g(p,P)},$$slots:{default:!0}}),g(d,k)}}})};Y(N,e=>{r(c)&&e(O)})}g(h,E),L()}export{he as S};
