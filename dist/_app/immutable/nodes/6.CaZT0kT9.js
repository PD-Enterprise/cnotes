import"../chunks/Bzak7iHL.js";import{d as ia,o as na,s as p}from"../chunks/CEdD1vL5.js";import{a3 as da,a4 as ca,A as va,a5 as m,a7 as n,a8 as pa,R as F,a9 as e,aa as a,ac as J,a6 as y,J as s,ad as l,l as O}from"../chunks/B-Q1TzRt.js";import{i as C,s as ma,a as ua}from"../chunks/C4LScRRF.js";import{e as ha,i as ga}from"../chunks/CPScdUsq.js";import{h as ba}from"../chunks/Cr8-9n9C.js";import{s as fa}from"../chunks/CaU46lWx.js";import{s as _a}from"../chunks/BC4tm2z8.js";import"../chunks/CEVJ7K31.js";import{p as xa}from"../chunks/BgPyfg0H.js";var ka=m('<div class="mx-auto"><div class="label text-center"><span class="label-text"> </span></div> <h2 class="label-body text-center"> </h2></div>'),wa=()=>{document.getElementById("share_modal").showModal()},Na=(u,d)=>{navigator.clipboard.writeText(`https://cnotes.pages.dev/${s(d).slug}/sharing`),_a("success","Link copied to clipboard!",2500,"success")},$a=m('<div class="content flex flex-col gap-3"><div class="metadata-box flex flex-col gap-2 rounded-md bg-base-300 p-2"><h1 class="w-full p-2 text-3xl font-bold"> </h1> <div class="meta-data flex flex-col flex-wrap items-center justify-center svelte-10p0ut0"></div> <div class="buttons"><button class="share-btn btn btn-success svelte-10p0ut0">Share <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"></path></svg></button></div></div> <div class="editor-container h-full overflow-hidden rounded-lg border-4 border-base-300 bg-base-200 p-2"><div class="ProseMirror dark p-1"><!></div></div></div> <dialog id="share_modal" class="modal"><div class="modal-box"><form method="dialog"><button class="btn btn-ghost btn-sm btn-circle absolute right-2 top-2">âœ•</button></form> <label for="share-link">Link:</label> <div class="share-container svelte-10p0ut0"><a id="share-link" class="share-link svelte-10p0ut0"> </a> <button class="btn btn-sm btn-square" aria-label="Copy share link to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"></path></svg></button></div></div></dialog>',1),ya=m('<div class="loadingNotes"><h1>Loading Your Note...</h1></div>'),Ca=m('<div class="main svelte-10p0ut0"><!></div>');function za(u,d){da(d,!0);const[R,U]=ma(),V=()=>ua(xa,"$page",R);let o=ca(va({title:"",board:"",dateCreated:"",grade:void 0,subject:"",slug:"",email:"",notescontent:""})),j=null;async function q(){const t=d.data.data;t&&t!=null?F(o,{...t},!0):na(()=>{const r=V().url.pathname.split("/home/")[1].split("/sharing")[0];E(r)})}async function E(t){const r=localStorage.getItem(`note:${t}`);if(r){try{j=JSON.parse(decodeURIComponent(escape(atob(r))))}catch{}F(o,{...j},!0)}}function P(t){return t.replace(/<h1>/g,'<h1 class="text-4xl">').replace(/<h2>/g,'<h1 class="text-3xl">').replace(/<h3>/g,'<h1 class="text-2xl">').replace(/<h4>/g,'<h1 class="text-xl">').replace(/<u>/g,'<u class="font-bold">')}q();var h=Ca(),Y=e(h);{var G=t=>{var r=J(),M=y(r);{var Q=i=>{var c=$a(),g=y(c),b=e(g),f=e(b),X=e(f,!0);a(f);var _=l(f,2);ha(_,21,()=>Object.keys(s(o)),ga,(ta,x)=>{var I=J(),sa=y(I);{var oa=k=>{var w=ka(),N=e(w),Z=e(N),ra=e(Z);a(Z),a(N);var z=l(N,2),la=e(z,!0);a(z),a(w),O($=>{p(ra,`${$??""}:`),p(la,s(o)[s(x)])},[()=>s(x).replace(/([A-Z])/g," $1").replace(/^./,$=>$.toUpperCase())]),n(k,w)};C(sa,k=>{["board","dateCreated","grade","subject"].includes(s(x))&&k(oa)})}n(ta,I)}),a(_);var S=l(_,2),D=e(S);D.__click=[wa],a(S),a(b);var A=l(b,2),L=e(A),K=e(L);ba(K,()=>P(s(o).notescontent)),a(L),a(A),a(g);var T=l(g,2),B=e(T),H=l(e(B),4),v=e(H),aa=e(v);a(v);var ea=l(v,2);ea.__click=[Na,o],a(H),a(B),a(T),O(()=>{p(X,s(o).title),fa(v,"href",`https://cnotes.pages.dev/${s(o).slug??""}/sharing`),p(aa,`https://cnotes.pages.dev/${s(o).slug??""}/sharing`)}),n(i,c)},W=i=>{var c=ya();n(i,c)};C(M,i=>{s(o)?i(Q):i(W,!1)},!0)}n(t,r)};C(Y,t=>{t(G,!1)})}a(h),n(u,h),pa(),U()}ia(["click"]);export{za as component};
